{"ast":null,"code":"var _jsxFileName = \"/Users/nishthagoyal/Desktop/hack-new/hacker-news-clone/src/App.js\";\nimport React, { Component } from \"react\";\nimport Feed from \"./containers/Feed\";\nimport MenuBar from \"./components/MenuBar\";\nimport Footer from \"./components/Footer\";\nimport axios from \"axios\";\nimport styled from \"styled-components\";\nimport { useState } from \"react\";\nimport { useEffect } from \"react\";\nimport SortingBox from \"./components/Story/SortingBox\";\nexport const ButtonWrapper = styled.div`\n  padding: 0px 30px 10px;\n`;\nexport function getSinglePage(page_number, m) {\n  const urlKey = \"newstories\";\n  return new Promise(resolve => {\n    axios.get(`https://hn.algolia.com/api/v1/search?page=${page_number}`).then(res => {\n      let all_data = res.data;\n      let final_data = [];\n      let i = m + 1;\n\n      for (let row of all_data.hits) {\n        final_data.push({\n          id: i,\n          created_at: row.created_at,\n          title: row.title,\n          url: row.url,\n          author: row.author,\n          points: row.points,\n          story_text: row.story_text,\n          num_comments: row.num_comments,\n          objectID: row.objectID\n        });\n        i++;\n      }\n\n      resolve(final_data);\n    });\n  });\n}\n\nconst App = () => {\n  const [curStories, setCurStories] = useState([]);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [totalStories, setTotalStories] = useState(0);\n  const [m, setM] = useState(0);\n\n  const getStories = async page_number => {\n    let results = await getSinglePage(page_number, m);\n    console.log(results, \" Here is Results\");\n    setCurStories(results);\n    setM(m + results.length);\n  };\n\n  const handleClick = () => {\n    setPageNumber(1 + pageNumber);\n    getStories(pageNumber + 1);\n  };\n\n  const hideData = id => {\n    let data_here = curStories;\n\n    for (let k = 0; k < data_here.length; k++) {\n      if (data_here[k].id === id) {\n        data_here.splice(k, 1);\n        break;\n      }\n    }\n\n    setCurStories(data_here);\n  };\n\n  const upVote = id => {\n    let data_here = curStories;\n    let m = -1;\n\n    for (let k = 0; k < data_here.length; k++) {\n      if (data_here[k].id === id) {\n        m = k;\n        break;\n      }\n    }\n\n    data_here[m].points += 1;\n    setCurStories(data_here);\n  };\n\n  useEffect(() => {\n    getStories(pageNumber);\n  }, [pageNumber]);\n  useEffect(() => {}, [totalStories]); // Show only 1)  Last 24 hrs 2) Past Week 3) Past Month 4) Past Year 5) All Time\n\n  const showLast24Hrs = () => {\n    let data_here = curStories;\n    let final_data = [];\n    let i = 0;\n\n    for (let row of data_here) {\n      let date = new Date(row.created_at);\n      let cur_date = new Date();\n      let diff = cur_date.getTime() - date.getTime();\n      let diffDays = Math.ceil(diff / (1000 * 3600 * 24));\n\n      if (diffDays <= 1) {\n        final_data.push(row);\n        i++;\n      }\n    }\n\n    setCurStories(final_data);\n  };\n\n  const showPastWeek = () => {\n    let data_here = curStories;\n    let final_data = [];\n    let i = 0;\n\n    for (let row of data_here) {\n      let date = new Date(row.created_at);\n      let cur_date = new Date();\n      let diff = cur_date.getTime() - date.getTime();\n      let diffDays = Math.ceil(diff / (1000 * 3600 * 24));\n\n      if (diffDays <= 7) {\n        final_data.push(row);\n        i++;\n      }\n    }\n\n    setCurStories(final_data);\n  };\n\n  const showPastYear = () => {\n    let data_here = curStories;\n    let final_data = [];\n    let i = 0;\n\n    for (let row of data_here) {\n      let date = new Date(row.created_at);\n      let cur_date = new Date();\n      let diff = cur_date.getTime() - date.getTime();\n      let diffDays = Math.ceil(diff / (1000 * 3600 * 24));\n\n      if (diffDays <= 365) {\n        final_data.push(row);\n        i++;\n      }\n    }\n\n    setCurStories(final_data);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"link\", {\n    rel: \"stylesheet\",\n    href: \"https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css\",\n    integrity: \"sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm\",\n    crossorigin: \"anonymous\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"script\", {\n    src: \"https://code.jquery.com/jquery-3.2.1.slim.min.js\",\n    integrity: \"sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN\",\n    crossorigin: \"anonymous\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"script\", {\n    src: \"https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js\",\n    integrity: \"sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q\",\n    crossorigin: \"anonymous\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"script\", {\n    src: \"https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js\",\n    integrity: \"sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl\",\n    crossorigin: \"anonymous\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(MenuBar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(SortingBox, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Feed, {\n    items: curStories,\n    hideData: hideData,\n    upVote: upVote,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      width: \"100%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"nav\", {\n    \"aria-label\": \"Page navigation example\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"pagination\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    className: \"page-link\",\n    href: \"#\",\n    style: {// color: pageNumber > 1?\"black\":\"darkgrey\",\n    },\n    onClick: () => {\n      showPastYear();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 13\n    }\n  }, \"Sort\"), /*#__PURE__*/React.createElement(\"li\", {\n    className: `page-item ${pageNumber === 1 ? \"disabled\" : \"\"}`,\n    onClick: () => {\n      if (pageNumber > 1) setPageNumber(pageNumber - 1);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    className: \"page-link\",\n    href: \"#\",\n    style: {\n      color: pageNumber > 1 ? \"black\" : \"darkgrey\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 15\n    }\n  }, \"Previous\")), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"page-item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    className: \"page-link\",\n    href: \"#\",\n    style: {\n      color: \"black\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 15\n    }\n  }, pageNumber)), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"page-item\",\n    onClick: () => {\n      setPageNumber(pageNumber + 1);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    className: \"page-link\",\n    href: \"#\",\n    style: {\n      color: \"black\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 15\n    }\n  }, 1 + pageNumber)), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"page-item\",\n    onClick: () => {\n      setPageNumber(pageNumber + 2);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    className: \"page-link\",\n    href: \"#\",\n    style: {\n      color: \"black\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 15\n    }\n  }, 2 + pageNumber)), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"page-item\",\n    onClick: () => {\n      setPageNumber(pageNumber + 1);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    className: \"page-link \",\n    style: {\n      color: \"black\"\n    },\n    href: \"#\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 15\n    }\n  }, \"Next\"))))), /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default App;","map":{"version":3,"sources":["/Users/nishthagoyal/Desktop/hack-new/hacker-news-clone/src/App.js"],"names":["React","Component","Feed","MenuBar","Footer","axios","styled","useState","useEffect","SortingBox","ButtonWrapper","div","getSinglePage","page_number","m","urlKey","Promise","resolve","get","then","res","all_data","data","final_data","i","row","hits","push","id","created_at","title","url","author","points","story_text","num_comments","objectID","App","curStories","setCurStories","pageNumber","setPageNumber","totalStories","setTotalStories","setM","getStories","results","console","log","length","handleClick","hideData","data_here","k","splice","upVote","showLast24Hrs","date","Date","cur_date","diff","getTime","diffDays","Math","ceil","showPastWeek","showPastYear","display","justifyContent","alignItems","width","color"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Feed from \"./containers/Feed\";\nimport MenuBar from \"./components/MenuBar\";\nimport Footer from \"./components/Footer\";\nimport axios from \"axios\";\nimport styled from \"styled-components\";\nimport { useState } from \"react\";\nimport { useEffect } from \"react\";\nimport SortingBox from \"./components/Story/SortingBox\";\n\nexport const ButtonWrapper = styled.div`\n  padding: 0px 30px 10px;\n`;\n\nexport function getSinglePage(page_number, m) {\n  const urlKey = \"newstories\";\n  return new Promise((resolve) => {\n    axios\n      .get(`https://hn.algolia.com/api/v1/search?page=${page_number}`)\n      .then((res) => {\n        let all_data = res.data;\n        let final_data = [];\n        let i = m + 1;\n        for (let row of all_data.hits) {\n          final_data.push({\n            id: i,\n            created_at: row.created_at,\n            title: row.title,\n            url: row.url,\n            author: row.author,\n            points: row.points,\n            story_text: row.story_text,\n            num_comments: row.num_comments,\n            objectID: row.objectID,\n          });\n          i++;\n        }\n        resolve(final_data);\n      });\n  });\n}\n\nconst App = () => {\n  const [curStories, setCurStories] = useState([]);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [totalStories, setTotalStories] = useState(0);\n  const [m, setM] = useState(0);\n\n  const getStories = async (page_number) => {\n    let results = await getSinglePage(page_number, m);\n    console.log(results, \" Here is Results\");\n    setCurStories(results);\n    setM(m + results.length);\n  };\n\n  const handleClick = () => {\n    setPageNumber(1 + pageNumber);\n    getStories(pageNumber + 1);\n  };\n\n  const hideData = (id) => {\n    let data_here = curStories;\n    for (let k = 0; k < data_here.length; k++) {\n      if (data_here[k].id === id) {\n        data_here.splice(k, 1);\n        break;\n      }\n    }\n    setCurStories(data_here);\n  };\n\n  const upVote = (id) => {\n    let data_here = curStories;\n    let m = -1;\n    for (let k = 0; k < data_here.length; k++) {\n      if (data_here[k].id === id) {\n        m = k;\n        break;\n      }\n    }\n    data_here[m].points += 1;\n    setCurStories(data_here);\n  };\n\n  useEffect(() => {\n    getStories(pageNumber);\n  }, [pageNumber]);\n\n  useEffect(() => {}, [totalStories]);\n\n  // Show only 1)  Last 24 hrs 2) Past Week 3) Past Month 4) Past Year 5) All Time\n\n  const showLast24Hrs = () => {\n    let data_here = curStories;\n    let final_data = [];\n    let i = 0;\n    for (let row of data_here) {\n      let date = new Date(row.created_at);\n      let cur_date = new Date();\n      let diff = cur_date.getTime() - date.getTime();\n      let diffDays = Math.ceil(diff / (1000 * 3600 * 24));\n      if (diffDays <= 1) {\n        final_data.push(row);\n        i++;\n      }\n    }\n    setCurStories(final_data);\n  };\n\n  const showPastWeek = () => {\n    let data_here = curStories;\n    let final_data = [];\n    let i = 0;\n    for (let row of data_here) {\n      let date = new Date(row.created_at);\n      let cur_date = new Date();\n      let diff = cur_date.getTime() - date.getTime();\n      let diffDays = Math.ceil(diff / (1000 * 3600 * 24));\n      if (diffDays <= 7) {\n        final_data.push(row);\n        i++;\n      }\n    }\n    setCurStories(final_data);\n  };\n\n  const showPastYear = () => {\n    let data_here = curStories;\n    let final_data = [];\n    let i = 0;\n    for (let row of data_here) {\n      let date = new Date(row.created_at);\n      let cur_date = new Date();\n      let diff = cur_date.getTime() - date.getTime();\n      let diffDays = Math.ceil(diff / (1000 * 3600 * 24));\n      if (diffDays <= 365) {\n        final_data.push(row);\n        i++;\n      }\n    }\n    setCurStories(final_data);\n  };\n\n  return (\n    <div>\n      <link\n        rel=\"stylesheet\"\n        href=\"https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css\"\n        integrity=\"sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm\"\n        crossorigin=\"anonymous\"\n      />\n\n      <script\n        src=\"https://code.jquery.com/jquery-3.2.1.slim.min.js\"\n        integrity=\"sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN\"\n        crossorigin=\"anonymous\"\n      ></script>\n      <script\n        src=\"https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js\"\n        integrity=\"sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q\"\n        crossorigin=\"anonymous\"\n      ></script>\n      <script\n        src=\"https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js\"\n        integrity=\"sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl\"\n        crossorigin=\"anonymous\"\n      ></script>\n      <MenuBar />\n      <SortingBox/>\n      <Feed items={curStories} hideData={hideData} upVote={upVote} />\n\n      {/* Pagination */}\n      <div\n        style={{\n          display: \"flex\",\n          justifyContent: \"center\",\n          alignItems: \"center\",\n          width: \"100%\",\n        }}\n      >\n        <nav aria-label=\"Page navigation example\">\n          <ul className=\"pagination\">\n            {/* showLast24Hrs */}\n            <a\n              className=\"page-link\"\n              href=\"#\"\n              style={\n                {\n                  // color: pageNumber > 1?\"black\":\"darkgrey\",\n                }\n              }\n              onClick={() => {\n                showPastYear();\n              }}\n            >\n              Sort\n            </a>\n            <li\n              className={`page-item ${pageNumber === 1 ? \"disabled\" : \"\"}`}\n              onClick={() => {\n                if (pageNumber > 1) setPageNumber(pageNumber - 1);\n              }}\n            >\n              <a\n                className=\"page-link\"\n                href=\"#\"\n                style={{\n                  color: pageNumber > 1 ? \"black\" : \"darkgrey\",\n                }}\n              >\n                Previous\n              </a>\n            </li>\n            <li className=\"page-item\">\n              <a\n                className=\"page-link\"\n                href=\"#\"\n                style={{\n                  color: \"black\",\n                }}\n              >\n                {pageNumber}\n              </a>\n            </li>\n            <li\n              className=\"page-item\"\n              onClick={() => {\n                setPageNumber(pageNumber + 1);\n              }}\n            >\n              <a\n                className=\"page-link\"\n                href=\"#\"\n                style={{\n                  color: \"black\",\n                }}\n              >\n                {1 + pageNumber}\n              </a>\n            </li>\n            <li\n              className=\"page-item\"\n              onClick={() => {\n                setPageNumber(pageNumber + 2);\n              }}\n            >\n              <a\n                className=\"page-link\"\n                href=\"#\"\n                style={{\n                  color: \"black\",\n                }}\n              >\n                {2 + pageNumber}\n              </a>\n            </li>\n            <li\n              className=\"page-item\"\n              onClick={() => {\n                setPageNumber(pageNumber + 1);\n              }}\n            >\n              <a\n                className=\"page-link \"\n                style={{\n                  color: \"black\",\n                }}\n                href=\"#\"\n              >\n                Next\n              </a>\n            </li>\n          </ul>\n        </nav>\n      </div>\n\n      <Footer />\n    </div>\n  );\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}