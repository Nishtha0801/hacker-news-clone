{"ast":null,"code":"var _jsxFileName = \"/Users/nishthagoyal/Desktop/hack-new/hacker-news-clone/src/components/SearchBar/SearchPage.js\";\nimport React, { useState, useEffect } from \"react\";\nimport Feed from \"../../containers/Feed\";\nimport SearchMenu from \"../MenuBar/SearchMenu\";\nimport SortingBox from \"../Story/SortingBox\";\n\nconst SearchPage = ({\n  setCurStories,\n  setIsSearch\n}) => {\n  const [searchResults, setSearchResults] = useState([]);\n  const [filteredValues, setFilteredValues] = useState([]);\n  const [tags, setTags] = useState(\"\");\n  const [sortedBy, setSortedBy] = useState(\"search\");\n\n  const hideData = () => {};\n\n  const upVote = () => {};\n\n  const timeFilter = days => {\n    console.log(days, \" Here is Days\");\n    let data_here = searchResults;\n    let final_data = [];\n    let i = 0;\n\n    if (days == \"-1\") {\n      setFilteredValues(searchResults);\n      return;\n    }\n\n    for (let row of data_here) {\n      let date = new Date(row.created_at);\n      let cur_date = new Date();\n      let diff = cur_date.getTime() - date.getTime();\n      let diffDays = Math.ceil(diff / (1000 * 3600 * 24));\n\n      if (diffDays <= days) {\n        final_data.push(row);\n        i++;\n      }\n    } // setSearchResults(final_data);\n\n\n    setFilteredValues(final_data);\n  };\n\n  const showPastWeek = () => {\n    let data_here = searchResults;\n    let final_data = [];\n    let i = 0;\n\n    for (let row of data_here) {\n      let date = new Date(row.created_at);\n      let cur_date = new Date();\n      let diff = cur_date.getTime() - date.getTime();\n      let diffDays = Math.ceil(diff / (1000 * 3600 * 24));\n\n      if (diffDays <= 7) {\n        final_data.push(row);\n        i++;\n      }\n    }\n\n    setSearchResults(final_data);\n  };\n\n  const showPastYear = () => {\n    let data_here = searchResults;\n    let final_data = [];\n    let i = 0;\n\n    for (let row of data_here) {\n      let date = new Date(row.created_at);\n      let cur_date = new Date();\n      let diff = cur_date.getTime() - date.getTime();\n      let diffDays = Math.ceil(diff / (1000 * 3600 * 24));\n\n      if (diffDays <= 365) {\n        final_data.push(row);\n        i++;\n      }\n    }\n\n    setSearchResults(final_data);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(SearchMenu, {\n    setCurStories: setCurStories,\n    setIsSearch: setIsSearch,\n    setSearchResults: setSearchResults,\n    setFilteredValues: setFilteredValues,\n    tags: tags,\n    sortedBy: sortedBy,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(SortingBox, {\n    timeFilter: timeFilter,\n    setTags: setTags,\n    setSortedBy: setSortedBy,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Feed, {\n    items: filteredValues,\n    hideData: hideData,\n    upVote: upVote,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default SearchPage;","map":{"version":3,"sources":["/Users/nishthagoyal/Desktop/hack-new/hacker-news-clone/src/components/SearchBar/SearchPage.js"],"names":["React","useState","useEffect","Feed","SearchMenu","SortingBox","SearchPage","setCurStories","setIsSearch","searchResults","setSearchResults","filteredValues","setFilteredValues","tags","setTags","sortedBy","setSortedBy","hideData","upVote","timeFilter","days","console","log","data_here","final_data","i","row","date","Date","created_at","cur_date","diff","getTime","diffDays","Math","ceil","push","showPastWeek","showPastYear"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Feed from \"../../containers/Feed\";\nimport SearchMenu from \"../MenuBar/SearchMenu\";\nimport SortingBox from \"../Story/SortingBox\";\n\nconst SearchPage = ({ setCurStories, setIsSearch }) => {\n  const [searchResults, setSearchResults] = useState([]);\n  const [filteredValues, setFilteredValues] = useState([]);\n  const [tags, setTags] = useState(\"\");\n  const [sortedBy, setSortedBy] = useState(\"search\");\n  const hideData = () => {};\n  const upVote = () => {};\n\n  const timeFilter = (days) => {\n    console.log(days, \" Here is Days\");\n    let data_here = searchResults;\n    let final_data = [];\n    let i = 0;\n    if (days == \"-1\") {\n      setFilteredValues(searchResults);\n      return;\n    }\n    for (let row of data_here) {\n      let date = new Date(row.created_at);\n      let cur_date = new Date();\n      let diff = cur_date.getTime() - date.getTime();\n      let diffDays = Math.ceil(diff / (1000 * 3600 * 24));\n      if (diffDays <= days) {\n        final_data.push(row);\n        i++;\n      }\n    }\n    // setSearchResults(final_data);\n    setFilteredValues(final_data);\n  };\n\n  const showPastWeek = () => {\n    let data_here = searchResults;\n    let final_data = [];\n    let i = 0;\n    for (let row of data_here) {\n      let date = new Date(row.created_at);\n      let cur_date = new Date();\n      let diff = cur_date.getTime() - date.getTime();\n      let diffDays = Math.ceil(diff / (1000 * 3600 * 24));\n      if (diffDays <= 7) {\n        final_data.push(row);\n        i++;\n      }\n    }\n    setSearchResults(final_data);\n  };\n\n  const showPastYear = () => {\n    let data_here = searchResults;\n    let final_data = [];\n    let i = 0;\n    for (let row of data_here) {\n      let date = new Date(row.created_at);\n      let cur_date = new Date();\n      let diff = cur_date.getTime() - date.getTime();\n      let diffDays = Math.ceil(diff / (1000 * 3600 * 24));\n      if (diffDays <= 365) {\n        final_data.push(row);\n        i++;\n      }\n    }\n    setSearchResults(final_data);\n  };\n\n  return (\n    <div>\n      <SearchMenu\n        setCurStories={setCurStories}\n        setIsSearch={setIsSearch}\n        setSearchResults={setSearchResults}\n        setFilteredValues={setFilteredValues}\n        tags={tags}\n        sortedBy={sortedBy}\n      />\n      <SortingBox timeFilter={timeFilter} setTags={setTags} setSortedBy={setSortedBy} />\n      <Feed items={filteredValues} hideData={hideData} upVote={upVote} />\n    </div>\n  );\n};\n\nexport default SearchPage;\n"]},"metadata":{},"sourceType":"module"}